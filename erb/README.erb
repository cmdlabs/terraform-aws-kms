<!-- vim: set ft=markdown: -->
![CMD Solutions|medium](https://s3-ap-southeast-2.amazonaws.com/cmd-website-images/CMDlogo.jpg)

# terraform-aws-kms

<%= %x{ruby erb/toc.rb erb/README.erb} -%>

## Overview

This module deploys a standard account KMS key for secrets encryption.

Terraform <%= %x[awk -F '"' '/required_version/ {print $2}' versions.tf].chomp -%> is required for this module.

## AWS KMS Terraform

### Resources docs

AWS KMS automation includes use of the following core Terraform data sources:

- [`aws_kms_alias`](https://www.terraform.io/docs/providers/aws/r/kms_alias.html) - Provides an alias for a KMS customer master key. AWS Console enforces 1-to-1 mapping between aliases & keys, but API (hence Terraform too) allows you to create as many aliases as the [account limits](http://docs.aws.amazon.com/kms/latest/developerguide/limits.html) allow you.
- [`aws_kms_key`](https://www.terraform.io/docs/providers/aws/r/kms_key.html) - Provides a KMS customer master key.

### Inputs

The below outlines the current parameters and defaults.

| Name | Description | Type | Default | Required |
|------|-------------|:----:|:-------:|:--------:|
<%= %x{ruby erb/variables2md.rb variables.tf} -%>

### Outputs

None.

### Example

A simple example:

```tf
<% remote = %x{git remote -v}.split("\n")[0].split[1] -%>
<%= %x{sed -E 's!source( +)=.*!source\\1= "#{remote}"!' examples/simple/main.tf} -%>
```

To apply that:

```text
â–¶ terraform apply
```

## License

Apache 2.0.
